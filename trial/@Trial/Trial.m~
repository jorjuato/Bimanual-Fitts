classdef Trial < handle
    properties(SetAccess = private)
        ts
        vf
        vfL
        vfR
        osc
        oscL
        oscR
        ls
        info
    end % properties

   %%%%%%%%%%%%%%%%%%
   % Public methods
   %%%%%%%%%%%%%%%%%%  
    methods
        
        
        copy(obj)
        %%%%%%%%%%%%%
        % Constructor
        %%%%%%%%%%%%%
        function obj = Trial(data,name)
            if isa(data,'Trial')
                
            %Call apropiate get_results function, output stored in DS.name
            if findstr(name,'uni')
                if findstr(name,'L')
                    hand='L';
                else
                    hand='R';
                end
                obj.info = obj.get_trial_info_uni(data);
                obj.ts   = TimeSeriesUnimanual(data,obj.info,hand);
                obj.osc  = Oscillations(obj.ts,'');
                obj.vf   = VectorField(obj,'');
            else
                obj.info = obj.get_trial_info_bi(data);
                obj.ts   = TimeSeriesBimanual(data,obj.info);
                obj.oscL = Oscillations(obj.ts,'L');
                obj.oscR = Oscillations(obj.ts,'R');
                obj.ls   = LockingStrength(obj.ts);
                obj.vfL  = VectorField(obj,'L');
                obj.vfR  = VectorField(obj,'R');                
            end
        end
    end
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % Prototypes of static methods
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    methods(Static=true, Access=private)
        info = get_trial_info_bi(data,factor2)
        info = get_trial_info_uni(data)
        [fcns, names, xlabels, ylabels] = get_plots(obj)
        plot(obj,graphPath,ext)
        
    end % methods
end% classdef
