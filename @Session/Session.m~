classdef Session < handle
    properties(SetAccess = private)
        bimanual
        uniLeft
        uniRight
    end % properties
    
    methods
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %Constructor
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        function obj = Session(session_dir)
            blocks = dir2(session_dir);
            for b=1:length(blocks)
                name = blocks(b).name;
                %Skip train blocks
                if strcmp(name,'train'), continue, end
                %Generate a Block instance
                obj.(name) = Block(joinpath(session_dir,name));
            end
        end
        
        function B = subsref(obj,S)
            S.subs
            S.type
            if length(S) > 1
                if strcmp(S(1).type,'.')
                    tmp = obj.(S(1).subs{1});
                    B = tmp.subsref(tmp,S(2:end));
                else
                    disp('Wrong access method for class Session')
                    B =zeros(0);
                end
            elseif strcmp(S.type,'.')
                B = obj.(S(1).subs{1});
            else
                B=zeros(0)
                'hola'
            end
        end
        
        function plot(obj,figname)
            if nargin<2, figname=''; end
        end % plot
        
    end % methods
end% classdef
